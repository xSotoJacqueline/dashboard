import{R as y,a as bt,p as l,w as xt}from"./chunk-EF7DTUVF-mit8K6YH.js";import{X as H,Y as At,C as at,M as jt}from"./YAxis-UaEIJgp6.js";import{p as kt,D as Pt,q as Ot,E as Dt,r as q,s as W,t as wt,A as Ct,v as M,w as St,x as U,y as Lt,z as X,F as nt,G as _t,H as Et,I as Y,g as Nt,f as Tt,C as it,c as ot,d as st,h as lt,j as ct,R as ut,k as pt,l as dt,o as V}from"./chart-CnWQZvg5.js";import{a as Q}from"./utils-CBfrqCZ4.js";import"./createLucideIcon-9PaDAJ6E.js";var It=["type","layout","connectNulls","ref"],Ft=["key"];function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(t)}function Z(t,e){if(t==null)return{};var r=Mt(t,e),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Mt(t,e){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;r[a]=t[a]}return r}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},R.apply(this,arguments)}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tt(Object(r),!0).forEach(function(a){A(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function C(t){return $t(t)||Bt(t)||Rt(t)||Vt()}function Vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(t,e){if(t){if(typeof t=="string")return G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}}function Bt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $t(t){if(Array.isArray(t))return G(t)}function G(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,ht(a.key),a)}}function Kt(t,e,r){return e&&et(t.prototype,e),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zt(t,e,r){return e=K(e),qt(t,ft()?Reflect.construct(e,r||[],K(t).constructor):e.apply(t,r))}function qt(t,e){if(e&&(S(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(t)}function Ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ft=function(){return!!t})()}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K(t)}function Gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},J(t,e)}function A(t,e,r){return e=ht(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ht(t){var e=Jt(t,"string");return S(e)=="symbol"?e:e+""}function Jt(t,e){if(S(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(S(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L=function(t){function e(){var r;Wt(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return r=zt(this,e,[].concat(n)),A(r,"state",{isAnimationFinished:!0,totalLength:0}),A(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),A(r,"getStrokeDasharray",function(i,s,c){var p=c.reduce(function(j,P){return j+P});if(!p)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/p),h=i%p,d=s-i,m=[],u=0,v=0;u<c.length;v+=c[u],++u)if(v+c[u]>h){m=[].concat(C(c.slice(0,u)),[h-v]);break}var x=m.length%2===0?[0,d]:[d];return[].concat(C(e.repeat(c,f)),C(m),x).map(function(j){return"".concat(j,"px")}).join(", ")}),A(r,"id",_t("recharts-line-")),A(r,"pathRef",function(i){r.mainCurve=i}),A(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),A(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Gt(e,t),Kt(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,c=o.yAxis,p=o.layout,f=o.children,h=Ot(f,Dt);if(!h)return null;var d=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:nt(v.payload,x)}},m={clipPath:a?"url(#clipPath-".concat(n,")"):null};return y.createElement(q,m,h.map(function(u){return y.cloneElement(u,{key:"bar-".concat(u.props.dataKey),data:i,xAxis:s,yAxis:c,layout:p,dataPointFormatter:d})}))}},{key:"renderDots",value:function(a,n,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,p=s.points,f=s.dataKey,h=W(this.props,!1),d=W(c,!0),m=p.map(function(v,x){var j=b(b(b({key:"dot-".concat(x),r:3},h),d),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:p});return e.renderDotItem(c,j)}),u={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(o,")"):null};return y.createElement(q,R({className:"recharts-line-dots",key:"dots"},u),m)}},{key:"renderCurveStatically",value:function(a,n,o,i){var s=this.props,c=s.type,p=s.layout,f=s.connectNulls;s.ref;var h=Z(s,It),d=b(b(b({},W(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(o,")"):null,points:a},i),{},{type:c,layout:p,connectNulls:f});return y.createElement(wt,R({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,n){var o=this,i=this.props,s=i.points,c=i.strokeDasharray,p=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,d=i.animationEasing,m=i.animationId,u=i.animateNewValues,v=i.width,x=i.height,j=this.state,P=j.prevPoints,_=j.totalLength;return y.createElement(Ct,{begin:f,duration:h,isActive:p,easing:d,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var k=D.t;if(P){var E=P.length/s.length,O=s.map(function(g,z){var I=Math.floor(z*E);if(P[I]){var F=P[I],w=M(F.x,g.x),vt=M(F.y,g.y);return b(b({},g),{},{x:w(k),y:vt(k)})}if(u){var yt=M(v*2,g.x),gt=M(x/2,g.y);return b(b({},g),{},{x:yt(k),y:gt(k)})}return b(b({},g),{},{x:g.x,y:g.y})});return o.renderCurveStatically(O,a,n)}var B=M(0,_),N=B(k),T;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(g){return parseFloat(g)});T=o.getStrokeDasharray(N,_,$)}else T=o.generateSimpleStrokeDasharray(_,N);return o.renderCurveStatically(s,a,n,{strokeDasharray:T})})}},{key:"renderCurve",value:function(a,n){var o=this.props,i=o.points,s=o.isAnimationActive,c=this.state,p=c.prevPoints,f=c.totalLength;return s&&i&&i.length&&(!p&&f>0||!St(p,i))?this.renderCurveWithAnimation(a,n):this.renderCurveStatically(i,a,n)}},{key:"render",value:function(){var a,n=this.props,o=n.hide,i=n.dot,s=n.points,c=n.className,p=n.xAxis,f=n.yAxis,h=n.top,d=n.left,m=n.width,u=n.height,v=n.isAnimationActive,x=n.id;if(o||!s||!s.length)return null;var j=this.state.isAnimationFinished,P=s.length===1,_=Q("recharts-line",c),D=p&&p.allowDataOverflow,k=f&&f.allowDataOverflow,E=D||k,O=U(x)?this.id:x,B=(a=W(i,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},N=B.r,T=N===void 0?3:N,$=B.strokeWidth,g=$===void 0?2:$,z=Lt(i)?i:{},I=z.clipDot,F=I===void 0?!0:I,w=T*2+g;return y.createElement(q,{className:_},D||k?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(O)},y.createElement("rect",{x:D?d:d-m/2,y:k?h:h-u/2,width:D?m:m*2,height:k?u:u*2})),!F&&y.createElement("clipPath",{id:"clipPath-dots-".concat(O)},y.createElement("rect",{x:d-w/2,y:h-w/2,width:m+w,height:u+w}))):null,!P&&this.renderCurve(E,O),this.renderErrorBar(E,O),(P||i)&&this.renderDots(E,F,O),(!v||j)&&X.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,n){for(var o=a.length%2!==0?[].concat(C(a),[0]):a,i=[],s=0;s<n;++s)i=[].concat(C(i),C(o));return i}},{key:"renderDotItem",value:function(a,n){var o;if(y.isValidElement(a))o=y.cloneElement(a,n);else if(kt(a))o=a(n);else{var i=n.key,s=Z(n,Ft),c=Q("recharts-line-dot",typeof a!="boolean"?a.className:"");o=y.createElement(Pt,R({key:i},s,{className:c}))}return o}}])}(bt.PureComponent);A(L,"displayName","Line");A(L,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Et.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});A(L,"getComposedData",function(t){var e=t.props,r=t.xAxis,a=t.yAxis,n=t.xAxisTicks,o=t.yAxisTicks,i=t.dataKey,s=t.bandSize,c=t.displayedData,p=t.offset,f=e.layout,h=c.map(function(d,m){var u=nt(d,i);return f==="horizontal"?{x:Y({axis:r,ticks:n,bandSize:s,entry:d,index:m}),y:U(u)?null:a.scale(u),value:u,payload:d}:{x:U(u)?null:r.scale(u),y:Y({axis:a,ticks:o,bandSize:s,entry:d,index:m}),value:u,payload:d}});return b({points:h,layout:f},p)});var mt=Nt({chartName:"LineChart",GraphicalChild:L,axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:At}],formatAxisMap:Tt});const Ht=[{month:"January",desktop:186,mobile:80},{month:"February",desktop:305,mobile:200},{month:"March",desktop:237,mobile:120},{month:"April",desktop:73,mobile:190},{month:"May",desktop:209,mobile:130},{month:"June",desktop:214,mobile:140}],Xt={desktop:{label:"Desktop",color:"var(--chart-1)"},mobile:{label:"Mobile",color:"var(--chart-2)"}};function rt({title:t}){return l.jsxs(it,{className:"w-full h-ful border-0 pb-0 col-span-1",children:[l.jsx(ot,{children:l.jsx(st,{className:"text-xl font-semibold",children:t})}),l.jsx(lt,{className:" h-[calc(100%-theme(spacing.24))]",children:l.jsx(ct,{config:Xt,className:"h-[150px] !aspect-auto",children:l.jsx(ut,{width:"100%",height:"100%",children:l.jsxs(mt,{data:Ht,margin:{top:20,right:30,bottom:20,left:20},children:[l.jsx(at,{vertical:!1}),l.jsx(H,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:e=>e.slice(0,3)}),l.jsx(pt,{cursor:!1,content:l.jsx(dt,{indicator:"line"})}),l.jsx(L,{dataKey:"desktop",type:"natural",stroke:"var(--color-lunes)",strokeWidth:2,dot:{stroke:"var(--color-green-folatti)"},activeDot:{r:6},children:l.jsx(X,{position:"top",offset:12,className:"fill-foreground",fontSize:12})})]})})})})]})}const Yt=[{month:"January",desktop:186,mobile:80},{month:"February",desktop:305,mobile:200},{month:"March",desktop:237,mobile:120},{month:"April",desktop:73,mobile:190},{month:"May",desktop:209,mobile:130},{month:"June",desktop:214,mobile:140}],Qt={desktop:{label:"Desktop",color:"var(--chart-1)"},mobile:{label:"Mobile",color:"var(--chart-2)"}};function Zt({className:t,title:e}){return l.jsxs(it,{className:`w-full h-full pb-0 border-0 col-span-1 ${t}`,children:[l.jsx(ot,{children:l.jsx(st,{className:"text-xl font-semibold",children:e})}),l.jsx(lt,{className:"relative sm:pt-0 h-[calc(100%-theme(spacing.24))]",children:l.jsx(ct,{config:Qt,className:"h-[25cqh] !aspect-auto",children:l.jsx(ut,{width:"100%",height:"100%",children:l.jsxs(mt,{data:Yt,margin:{top:20,right:30,bottom:20,left:20},children:[l.jsx(at,{vertical:!1}),l.jsx(H,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:r=>r.slice(0,3)}),l.jsx(pt,{cursor:!1,content:l.jsx(dt,{indicator:"line"})}),l.jsx(L,{dataKey:"desktop",type:"natural",stroke:"var(--color-lunes)",strokeWidth:2,dot:{fill:"var(--color-desktop)"},activeDot:{r:6},children:l.jsx(X,{position:"top",offset:12,className:"fill-foreground",fontSize:12})})]})})})})]})}const ie=xt(function(){const e=()=>(Math.floor(Math.random()*100.55)-40)/1e3,r=()=>Math.floor(Math.random()*100),a=[{value:r(),valueFormat:"decimal",percentageValue:e(),title:"CTVL",description:"Customer Lifetime Value",Icon:V,label:"Últimos 28 días"},{value:r(),valueFormat:"currency",percentageValue:e(),title:"ARPU",description:"Ingreso Promedio por Usuario",Icon:V,label:"Últimos 28 días"},{value:r(),valueFormat:"percent",percentageValue:e(),title:"Deserción",description:"Tasa de deserción",Icon:V,label:"Últimos 28 días"},{value:r(),valueFormat:"decimal",percentageValue:e(),title:"Adquisición",description:"Usuarios adquiridos",Icon:V,label:"Últimos 28 días"},{value:r(),valueFormat:"percent",percentageValue:e(),title:"Retención",description:"Tasa de retención",Icon:V,label:"Últimos 28 días"}];return l.jsxs("div",{className:"w-full flex flex-col gap-6 rounded-lg text-black h-full py-1",children:[l.jsx("div",{className:"grid w-full h-fit grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:a.map((n,o)=>l.jsx(jt,{value:n.value,title:n.title,description:n.description,Icon:n.Icon,label:n.label,percentageValue:n.percentageValue,valueFormat:n.valueFormat},o))}),l.jsxs("div",{className:"h-fit grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(rt,{title:"Tasa de Adquisición"}),l.jsx(rt,{title:"Tasa de Desereción"})]}),l.jsx("div",{className:"w-full h-full max-h-full flex gap-6",children:l.jsx(Zt,{title:"Customer Lifetime Value"})})]})});export{ie as default};
