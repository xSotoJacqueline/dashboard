import{a as e,p as n,w as ne}from"./chunk-EF7DTUVF-mit8K6YH.js";import{M as se}from"./MetricsCardsVariant-CdNTPXoZ.js";import{c as j}from"./utils-CBfrqCZ4.js";import{M as ie,i as ae,u as Y,P as oe,a as le,b as re,L as ce,m as L,C as $}from"./index-DwG5qoIS.js";import"./createLucideIcon-9PaDAJ6E.js";class ue extends e.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=ae(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function de({children:i,isPresent:t,anchorX:s,root:a}){const o=e.useId(),l=e.useRef(null),h=e.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:r}=e.useContext(ie);return e.useInsertionEffect(()=>{const{width:g,height:m,top:w,left:x,right:v}=h.current;if(t||!l.current||!g||!m)return;const c=s==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=o;const f=document.createElement("style");r&&(f.nonce=r);const p=a??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${m}px !important;
            ${c}px !important;
            top: ${w}px !important;
          }
        `),()=>{p.contains(f)&&p.removeChild(f)}},[t]),n.jsx(ue,{isPresent:t,childRef:l,sizeRef:h,children:e.cloneElement(i,{ref:l})})}const fe=({children:i,initial:t,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:l,mode:h,anchorX:r,root:g})=>{const m=Y(he),w=e.useId();let x=!0,v=e.useMemo(()=>(x=!1,{id:w,initial:t,isPresent:s,custom:o,onExitComplete:c=>{m.set(c,!0);for(const f of m.values())if(!f)return;a&&a()},register:c=>(m.set(c,!1),()=>m.delete(c))}),[s,m,a]);return l&&x&&(v={...v}),e.useMemo(()=>{m.forEach((c,f)=>m.set(f,!1))},[s]),e.useEffect(()=>{!s&&!m.size&&a&&a()},[s]),h==="popLayout"&&(i=n.jsx(de,{isPresent:s,anchorX:r,root:g,children:i})),n.jsx(oe.Provider,{value:v,children:i})};function he(){return new Map}const U=i=>i.key||"";function Q(i){const t=[];return e.Children.forEach(i,s=>{e.isValidElement(s)&&t.push(s)}),t}const X=({children:i,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:l="sync",propagate:h=!1,anchorX:r="left",root:g})=>{const[m,w]=le(h),x=e.useMemo(()=>Q(i),[i]),v=h&&!m?[]:x.map(U),c=e.useRef(!0),f=e.useRef(x),p=Y(()=>new Map),[k,y]=e.useState(x),[N,A]=e.useState(x);re(()=>{c.current=!1,f.current=x;for(let C=0;C<N.length;C++){const b=U(N[C]);v.includes(b)?p.delete(b):p.get(b)!==!0&&p.set(b,!1)}},[N,v.length,v.join("-")]);const B=[];if(x!==k){let C=[...x];for(let b=0;b<N.length;b++){const R=N[b],I=U(R);v.includes(I)||(C.splice(b,0,R),B.push(R))}return l==="wait"&&B.length&&(C=B),A(Q(C)),y(x),null}const{forceRender:D}=e.useContext(ce);return n.jsx(n.Fragment,{children:N.map(C=>{const b=U(C),R=h&&!m?!1:x===N||v.includes(b),I=()=>{if(p.has(b))p.set(b,!0);else return;let u=!0;p.forEach(d=>{d||(u=!1)}),u&&(D?.(),A(f.current),h&&w?.(),a&&a())};return n.jsx(fe,{isPresent:R,initial:!c.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:g,onExitComplete:R?void 0:I,anchorX:r,children:C},b)})})},Z=e.createContext(void 0);function me(){const i=e.useContext(Z);if(!i)throw new Error("useMotionHighlight must be used within a MotionHighlightProvider");return i}function pe({ref:i,...t}){const{children:s,value:a,defaultValue:o,onValueChange:l,className:h,transition:r={type:"spring",stiffness:350,damping:35},hover:g=!1,enabled:m=!0,controlledItems:w,disabled:x=!1,exitDelay:v=.2,mode:c="children"}=t,f=e.useRef(null);e.useImperativeHandle(i,()=>f.current);const[p,k]=e.useState(a??o??null),[y,N]=e.useState(null),[A,B]=e.useState(""),D=e.useCallback(u=>{k(d=>d===u?d:u),u!==p&&l?.(u)},[p,l]),C=e.useCallback(u=>{if(!f.current)return;const d=t?.boundsOffset??{top:0,left:0,width:0,height:0},E=f.current.getBoundingClientRect(),V={top:u.top-E.top+(d.top??0),left:u.left-E.left+(d.left??0),width:u.width+(d.width??0),height:u.height+(d.height??0)};N(M=>M&&M.top===V.top&&M.left===V.left&&M.width===V.width&&M.height===V.height?M:V)},[t]),b=e.useCallback(()=>{N(u=>u===null?u:null)},[]);e.useEffect(()=>{a!==void 0?k(a):o!==void 0&&k(o)},[a,o]);const R=e.useId();e.useEffect(()=>{if(c!=="parent")return;const u=f.current;if(!u)return;const d=()=>{if(!p)return;const E=u.querySelector(`[data-value="${p}"][data-highlight="true"]`);E&&C(E.getBoundingClientRect())};return u.addEventListener("scroll",d,{passive:!0}),()=>u.removeEventListener("scroll",d)},[c,p,C]);const I=e.useCallback(u=>c==="parent"?n.jsxs("div",{ref:f,"data-slot":"motion-highlight-container",className:j("relative",t?.containerClassName),children:[n.jsx(X,{initial:!1,children:y&&n.jsx(L.div,{"data-slot":"motion-highlight",animate:{top:y.top,left:y.left,width:y.width,height:y.height,opacity:1},initial:{top:y.top,left:y.left,width:y.width,height:y.height,opacity:0},exit:{opacity:0,transition:{...r,delay:(r?.delay??0)+(v??0)}},transition:r,className:j("absolute bg-muted z-0",h,A)})}),u]}):u,[c,t,y,r,v,h,A]);return n.jsx(Z.Provider,{value:{mode:c,activeValue:p,setActiveValue:D,id:R,hover:g,className:h,transition:r,disabled:x,enabled:m,exitDelay:v,setBounds:C,clearBounds:b,activeClassName:A,setActiveClassName:B,forceUpdateBounds:t?.forceUpdateBounds},children:m?I(w?s:e.Children.map(s,(u,d)=>n.jsx(ee,{className:t?.itemsClassName,children:u},d))):s})}function J(i,t){return Object.keys(t).reduce((s,a)=>(i.props[a]===void 0&&(s[a]=t[a]),s),{})}function ee({ref:i,children:t,id:s,value:a,className:o,transition:l,disabled:h=!1,activeClassName:r,exitDelay:g,asChild:m=!1,forceUpdateBounds:w,...x}){const v=e.useId(),{activeValue:c,setActiveValue:f,mode:p,setBounds:k,clearBounds:y,hover:N,enabled:A,className:B,transition:D,id:C,disabled:b,exitDelay:R,forceUpdateBounds:I,setActiveClassName:u}=me(),d=t,E=s??a??d.props?.["data-value"]??d.props?.id??v,V=c===E,M=h===void 0?b:h,S=l??D,z=e.useRef(null);if(e.useImperativeHandle(i,()=>z.current),e.useEffect(()=>{if(p!=="parent")return;let T,F=null;const _=w===!0||I&&w!==!1,W=()=>{if(!z.current)return;const H=z.current.getBoundingClientRect();if(_){if(F&&F.top===H.top&&F.left===H.left&&F.width===H.width&&F.height===H.height){T=requestAnimationFrame(W);return}F=H,T=requestAnimationFrame(W)}k(H)};if(V?(W(),u(r??"")):c||y(),_)return()=>cancelAnimationFrame(T)},[p,V,c,k,y,r,u,w,I]),!e.isValidElement(t))return t;const P={"data-active":V?"true":"false","aria-selected":V,"data-disabled":M,"data-value":E,"data-highlight":!0},O=N?{onMouseEnter:T=>{f(E),d.props.onMouseEnter?.(T)},onMouseLeave:T=>{f(null),d.props.onMouseLeave?.(T)}}:{onClick:T=>{f(E),d.props.onClick?.(T)}};return m?p==="children"?e.cloneElement(d,{key:E,ref:z,className:j("relative",d.props.className),...J(d,{...P,"data-slot":"motion-highlight-item-container"}),...O,...x},n.jsxs(n.Fragment,{children:[n.jsx(X,{initial:!1,children:V&&!M&&n.jsx(L.div,{layoutId:`transition-background-${C}`,"data-slot":"motion-highlight",className:j("absolute inset-0 bg-muted z-0",B,r),transition:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...S,delay:(S?.delay??0)+(g??R??0)}},...P})}),n.jsx("div",{"data-slot":"motion-highlight-item",className:j("relative z-[1]",o),...P,children:t})]})):e.cloneElement(d,{ref:z,...J(d,{...P,"data-slot":"motion-highlight-item"}),...O}):A?n.jsxs("div",{ref:z,"data-slot":"motion-highlight-item-container",className:j(p==="children"&&"relative",o),...P,...x,...O,children:[p==="children"&&n.jsx(X,{initial:!1,children:V&&!M&&n.jsx(L.div,{layoutId:`transition-background-${C}`,"data-slot":"motion-highlight",className:j("absolute inset-0 bg-muted z-0",B,r),transition:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...S,delay:(S?.delay??0)+(g??R??0)}},...P})}),e.cloneElement(d,{className:j("relative z-[1]",d.props.className),...J(d,{...P,"data-slot":"motion-highlight-item"})})]},E):t}const te=e.createContext(void 0);function q(){const i=e.useContext(te);if(!i)throw new Error("useTabs must be used within a TabsProvider");return i}function ge({defaultValue:i,value:t,onValueChange:s,children:a,className:o,...l}){const[h,r]=e.useState(i??void 0),g=e.useRef(new Map),m=e.useRef(!1),w=t!==void 0;e.useEffect(()=>{if(!w&&h===void 0&&g.current.size>0&&!m.current){const c=Array.from(g.current.keys())[0];r(c),m.current=!0}},[h,w]);const x=(c,f)=>{f?(g.current.set(c,f),!w&&h===void 0&&!m.current&&(r(c),m.current=!0)):g.current.delete(c)},v=c=>{w?s?.(c):r(c)};return n.jsx(te.Provider,{value:{activeValue:t??h,handleValueChange:v,registerTrigger:x},children:n.jsx("div",{"data-slot":"tabs",className:j("flex flex-col gap-2",o),...l,children:a})})}function xe({children:i,className:t,activeClassName:s,transition:a={type:"spring",stiffness:200,damping:25},...o}){const{activeValue:l}=q();return n.jsx(pe,{controlledItems:!0,className:j("border-b-[2.5px] border-foreground w-10 bg-white absolute left-1/2 -translate-x-1/2",s),value:l,transition:a,children:n.jsx("div",{role:"tablist","data-slot":"tabs-list",className:j("bg-white text-muted-foreground inline-flex h-10 w-fit items-center justify-center rounded-lg p-[4px]",t),...o,children:i})})}function K({ref:i,value:t,children:s,className:a,...o}){const{activeValue:l,handleValueChange:h,registerTrigger:r}=q(),g=e.useRef(null);return e.useImperativeHandle(i,()=>g.current),e.useEffect(()=>(r(t,g.current),()=>r(t,null)),[t,r]),n.jsx(ee,{value:t,className:"size-full",children:n.jsx(L.button,{ref:g,"data-slot":"tabs-trigger",role:"tab",whileTap:{scale:.95},onClick:()=>h(t),"data-state":l===t?"active":"inactive",className:j("inline-flex cursor-pointer items-center size-full justify-center whitespace-nowrap rounded-sm px-2 py-1 text-lg font-normal ring-offset-background transition-transform focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground z-[1]",a),...o,children:s})})}function ve({children:i,className:t,transition:s={type:"spring",stiffness:300,damping:30,bounce:0,restDelta:.01},...a}){const{activeValue:o}=q(),l=e.Children.toArray(i),h=l.findIndex(r=>e.isValidElement(r)&&typeof r.props=="object"&&r.props!==null&&"value"in r.props&&r.props.value===o);return n.jsx("div",{"data-slot":"tabs-contents",className:j("overflow-hidden",t),...a,children:n.jsx(L.div,{className:"flex -mx-2",animate:{x:h*-100+"%"},transition:s,children:l.map((r,g)=>n.jsx("div",{className:"w-full shrink-0 px-2",children:r},g))})})}function G({children:i,value:t,className:s,...a}){const{activeValue:o}=q(),l=o===t;return n.jsx(L.div,{role:"tabpanel","data-slot":"tabs-content",className:j("overflow-hidden",s),initial:{filter:"blur(0px)"},animate:{filter:l?"blur(0px)":"blur(4px)"},exit:{filter:"blur(0px)"},transition:{type:"spring",stiffness:200,damping:25},...a,children:i})}const Ne=ne(function(){const t=()=>(Math.floor(Math.random()*100.55)-40)/1e3,s=()=>Math.floor(Math.random()*1e4),a=[{value:s(),valueFormat:"decimal",percentageValue:t(),title:"Tráfico Total",description:"Customer Lifetime Value",Icon:$,label:"Últimos 28 días"},{value:s(),valueFormat:"percent",percentageValue:t(),title:"Bonus Rate ",description:"Ingreso Promedio por Usuario",Icon:$,label:"Últimos 28 días"},{value:s(),valueFormat:"decimal",percentageValue:t(),title:"Jugadores Únicos",description:"Tasa de deserción",Icon:$,label:"Últimos 28 días"},{value:s(),valueFormat:"decimal",percentageValue:t(),title:"Registros Totales",description:"Usuarios adquiridos",Icon:$,label:"Últimos 28 días"}];return n.jsxs("div",{className:"w-full flex flex-col gap-6 rounded-lg text-black h-full py-1",children:[n.jsx("div",{className:"grid w-full h-fit grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((o,l)=>n.jsx(se,{value:o.value,title:o.title,description:o.description,Icon:o.Icon,label:o.label,percentageValue:o.percentageValue,valueFormat:o.valueFormat},l))}),n.jsx("div",{className:"w-full h-full max-h-full flex gap-6",children:n.jsxs(ge,{defaultValue:"traffic",className:"w-full h-full",children:[n.jsxs(xe,{className:"w-full",children:[n.jsx(K,{value:"traffic",children:"Tráfico"}),n.jsx(K,{value:"campaigns",children:"Campañas"}),n.jsx(K,{value:"players",children:"Jugadores"})]}),n.jsxs(ve,{children:[n.jsx(G,{className:"w-full h-full",value:"traffic",children:n.jsx("div",{className:"h-fit w-full grid grid-cols-1 md:grid-cols-2 gap-6"})}),n.jsx(G,{className:"w-full h-full",value:"campaigns",children:n.jsx("div",{className:"h-fit w-full grid grid-cols-1 md:grid-cols-2 gap-6"})}),n.jsx(G,{className:"w-full h-full",value:"players",children:n.jsx("div",{className:"h-fit w-full grid grid-cols-1 md:grid-cols-2 gap-6"})})]})]})})]})});export{Ne as default};
